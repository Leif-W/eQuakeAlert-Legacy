var $ = function(x) { return  document.getElementById(x); };

function equake_mapsBrowserScope(){
	var src = window.location.href;
	if (src == "chrome://equake/content/options.xul"){
	return $('equake.maps').contentWindow;
	}
	else{
	return mainWindow.content.wrappedJSObject.document.getElementById("equake.maps").contentWindow.frames.wrappedJSObject;
	}
}

function callMapsSave()
{
  return equake_mapsBrowserScope().save();
}

function callMapsFit()
{
  equake_mapsBrowserScope().fit();
}

function callMapsCheck()
{
  equake_mapsBrowserScope().check();
}

function callMapsSwitch(area)
{
	var geo_asia="11.523087506868512,128.671875;1,10";
//	var geo_def='11.523087506868512,128.671875;-0.3515602939922709,157.8515625;-9.79567758282973,156.09375;-25.79989118208832,159.609375;-47.75409797968002,149.765625;-37.99616267972812,134.296875;-37.71859032558814,121.640625;-36.87962060502676,108.6328125;-17.978733095556155,97.03125;9.102096738726456,91.7578125;13.239945499286312,87.5390625;33.7243396617476,88.2421875;25.48295117535531,122.6953125;11.523087506868512,128.671875;11.523087506868512,128.671875';
	var geo_afr="11.86735091145932,52.03125;-4.915832801313164,50.625;-27.059125784374054,50.625;-34.30714385628803,30.234375;-37.71859032558814,18.984375;-23.241346102386135,11.25;-4.915832801313164,10.546875;2.1088986592431382,0;2.1088986592431382,-17.578125;23.241346102386135,-20.390625;38.8225909761771,-4.921875;34.30714385628804,16.171875;35.460669951495305,35.15625;17.97873309555617,40.078125;11.86735091145932,52.03125";
	var geo_aus='0.3515602939922709,134.6484375;-2.811371193331128,157.1484375;-38.54816542304657,179.6484375;-48.224672649565186,169.453125;-43.06888777416961,152.9296875;-45.58328975600631,142.734375;-34.59704151614416,134.296875;-34.016241889667015,124.8046875;-34.88593094075315,113.5546875;-28.30438068296277,110.7421875;-22.268764039073965,112.5;-16.97274101999902,113.90625;-14.264383087562635,120.5859375;-11.867350911459308,127.6171875;-10.14193168613103,133.9453125;0.3515602939922709,134.6484375';
	var geo_asia='53.33087298301704,165.234375;65.6582745198266,176.484375;78.49055166160312,165.9375;78.76779175784321,113.90625;77.157162522661,89.296875;73.22669969306126,70.3125;68.39918004344189,33.046875;54.57206165565852,24.609375;43.58039085560784,32.34375;26.43122806450644,39.375;0,83.671875;-12.554563528593656,103.359375;-13.923403897723334,125.859375;6.315298538330033,125.15625;28.92163128242129,132.1875';
				  
	var uri = "http://www.freebookzone.com/equake/geomap.htm";
	switch (parseInt(area))
	{
		case -1: //Disabled
		default:
		uri="chrome://equake/content/geo_disabled.htm?msg=Geofiltering is disabled. Please select a prestored area from the list above.";
			break;
		case 0: //Default
			uri+= "?geo="+geo_def;
		case 1: //Current
			uri+= "?geo="+equake_geo;
			break;
		case 2: //Asia
			uri+= "?geo="+geo_asia
			break;
		case 3: //australia
			uri+= "?geo="+geo_aus
			break;
		case 5: //Africa
			uri+= "?geo="+geo_afr
			break;
	}
	alert(uri);
	$('equake.maps').loadURI(uri);
}
